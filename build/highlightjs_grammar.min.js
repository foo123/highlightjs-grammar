/**
*
*   HighlightJSGrammar
*   @version: 3.1.0
*
*   Transform a grammar specification in JSON format, into a syntax-highlight language for HighlightJS
*   https://github.com/foo123/highlightjs-grammar
*   https://github.com/foo123/editor-grammar
*
**/!function(e,t,n){"use strict";var o;"object"==typeof module&&module.exports?module.exports=n.call(e,{}):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(t,[],function(o){o(t,n.call(e,{}))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(t)?define(t,["require","exports","module"],function(){return n.call(e,{})}):t in e||(e[t]=o=n.call(e,{}))&&"function"==typeof define&&define.amd&&define(function(){return o})}(this,"HighlightJSGrammar",function(e){"use strict";function t(e){var t=0;return null===e?t=an:!0===e||!1===e||e instanceof Boolean?t=hn:Kt===e?t=un:(t=Sn[Zt.call(e)]||sn,t=cn===t||e instanceof Number?isNaN(e)?fn:isFinite(e)?cn:pn:mn===t||e instanceof String?1===e.length?gn:mn:yn===t||e instanceof Array?yn:bn===t||e instanceof RegExp?bn:xn===t||e instanceof Date?xn:$n===t||e instanceof Function?$n:dn===t?dn:sn),t}function n(e,t,n,o){var l,r,i,s,u,a,c=e.length;if(arguments.length<4&&(o=c-1),0>o&&(o+=c),arguments.length<3&&(n=0),n>o)return[];if(n===o)return[t(e[n],n,n,o)];for(i=o-n+1,s=15&i,u=1&s,a=new Array(i),u&&(a[0]=t(e[n],n,n,o)),l=u;s>l;l+=2)r=n+l,a[l]=t(e[r],r,n,o),a[l+1]=t(e[r+1],r+1,n,o);for(l=s;i>l;l+=16)r=n+l,a[l]=t(e[r],r,n,o),a[l+1]=t(e[r+1],r+1,n,o),a[l+2]=t(e[r+2],r+2,n,o),a[l+3]=t(e[r+3],r+3,n,o),a[l+4]=t(e[r+4],r+4,n,o),a[l+5]=t(e[r+5],r+5,n,o),a[l+6]=t(e[r+6],r+6,n,o),a[l+7]=t(e[r+7],r+7,n,o),a[l+8]=t(e[r+8],r+8,n,o),a[l+9]=t(e[r+9],r+9,n,o),a[l+10]=t(e[r+10],r+10,n,o),a[l+11]=t(e[r+11],r+11,n,o),a[l+12]=t(e[r+12],r+12,n,o),a[l+13]=t(e[r+13],r+13,n,o),a[l+14]=t(e[r+14],r+14,n,o),a[l+15]=t(e[r+15],r+15,n,o);return a}function o(e,t,n,o,l){var r,i,s,u,a,c=e.length,p=n;if(arguments.length<5&&(l=c-1),0>l&&(l+=c),arguments.length<4&&(o=0),o>l)return p;if(o===l)return t(p,e[o],o);for(s=l-o+1,u=15&s,a=1&u,a&&(p=t(p,e[o],o)),r=a;u>r;r+=2)i=o+r,p=t(t(p,e[i],i),e[i+1],i+1);for(r=u;s>r;r+=16)i=o+r,p=t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(t(p,e[i],i),e[i+1],i+1),e[i+2],i+2),e[i+3],i+3),e[i+4],i+4),e[i+5],i+5),e[i+6],i+6),e[i+7],i+7),e[i+8],i+8),e[i+9],i+9),e[i+10],i+10),e[i+11],i+11),e[i+12],i+12),e[i+13],i+13),e[i+14],i+14),e[i+15],i+15);return p}function l(e,t,n,o){if(t>n)return o;if(t===n)return e(t,o,t,n),o;var l,r,i=n-t+1,s=15&i,u=1&s;for(u&&e(t,o,t,n),l=u;s>l;l+=2)r=t+l,e(r,o,t,n),e(++r,o,t,n);for(l=s;i>l;l+=16)r=t+l,e(r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n),e(++r,o,t,n);return o}function r(e,n){var o,l,i,s,u=t(e),a=0;if(cn===t(n)?n>0?(a=n,n=!0):n=!1:n=!1!==n,dn===u){l={};for(i in e)e[Wt](i)&&e[Qt](i)&&(o=t(e[i]),l[i]=dn===o?n?r(e[i],a>0?a-1:n):e[i]:yn===o?n?r(e[i],a>0?a-1:n):e[i].slice():xn===o?new Date(e[i]):mn&o?e[i].slice():cn&o?0+e[i]:e[i])}else if(yn===u)for(s=e.length,l=new Array(s),i=0;s>i;i++)o=t(e[i]),l[i]=dn===o?n?r(e[i],a>0?a-1:n):e[i]:yn===o?n?r(e[i],a>0?a-1:n):e[i].slice():xn===o?new Date(e[i]):mn&o?e[i].slice():cn&o?0+e[i]:e[i];else l=xn===u?new Date(e):mn&u?e.slice():cn&u?0+e:e;return l}function i(){var e,n,o,l,s,u,a,c,p,f,h=arguments,m=h.length;if(1>m)return null;for(n=r(h[0]),o=1;m>o;o++)if(e=h[o])for(l in e)if(e[Wt](l)&&e[Qt](l))if(n[Wt](l)&&n[Qt](l)){if(p=t(n[l]),f=t(e[l]),dn===p&&dn===f)n[l]=i(n[l],e[l]);else if(yn===p&&yn===f){if(a=n[l],c=e[l],u=c.length,!u)continue;if(a.length)for(s=0;u>s;s++)0>a.indexOf(c[s])&&a.push(c[s]);else n[l]=c.slice()}}else n[l]=r(e[l]);return n}function s(e,n){return n||yn!==t(e)?[e]:e}function u(e,n){return e=s(e),(n||yn!==t(e[0]))&&(e=[e]),e}function a(e,n){return mn&t(n)&&mn&t(e)&&n.length&&n.length<=e.length&&n===e.substr(0,n.length)}function c(e,t,n){return t<e.length?e.splice(t,0,n):e.push(n),e}function p(e,t){var n=0,o=e.length;if(!0===t)e.length=0;else if(t){for(;o>n&&e[o-n-1].$id===t;)n++;n&&(e.length=o-n)}return e}function f(e,t,n){return n?e[t]=Kt:delete e[t],e}function h(e){return(e||"id_")+ ++In}function m(e){return(e||"uuid")+"_"+ ++In+"_"+(new Date).getTime()}function g(){var e,n,o,l,r,i,s=arguments,u=s.length;for(e=s[0]||{},r=1;u>r;r++)if(n=s[r],dn===t(n))for(l in n)n[Wt](l)&&n[Qt](l)&&(o=n[l],i=t(o),e[l]=cn&i?0+o:xn&i?new Date(o):wn&i?o.slice():o);return e}function k(e,t){var n,o=arguments.length,l="constructor";return 0===o?(e=Object,t={}):1===o?(t=e||{},e=Object):(e=e||Object,t=t||{}),t[Wt](l)||(t[l]=function(){}),n=t[l],delete t[l],n[Vt]=g(en(e[Vt]),t),n[Vt][l]=n,n}function y(e){return e.replace(Dn,"\\$1")}function d(e,t){return new RegExp(e,t||"")}function $(e,t,n,o){var l,r,i,s,u=e.pos,a=e.length,c="",p=!!n;if(p){for(o=!!o,r=!1,s=0;a>u&&(l=e[ln](u++),t!==l||r);)i=n===l,r=!r&&i,o?(i&&s++,(!i||2&s)&&(c+=l,s=0)):c+=l;2&s&&(c+=n)}else for(;a>u&&(l=e[ln](u++),t!==l);)c+=l;return e.pos=u,c}function b(e,n,o){var l,r,i,s,u,a=!0===o?0:1;for(mn&t(n)&&(n=[n,n,n],a=0),r=e.length,u="",l=0;r>l;)i=e[ln](l),r>l+1&&"$"===i?(s=e.charCodeAt(l+1),36===s?(u+="$",l+=2):s>=48&&57>=s?(u+=n[a+s-48]||"",l+=2):(u+=i,l+=1)):(u+=i,l+=1);return u}function x(e,n,o,l){if(!e||(cn|bn)&t(e))return e;var r,i=n?n.length||0:0,s="";if(mn&t(l)?s=l:l&&(s=Fn),i&&n===e.substr(0,i)){var u,a,c,r,p,f=e.substr(i),h=f[ln](0),m="";for(r=f.length;r--&&(p=f[ln](r),h!==p);)"i"===p.toLowerCase()&&(m="i");return u=f.substring(1,r),a="^("+u+")",o[a]||(c=d(a,m),o[a]=c),o[a]}return s?(a="^("+y(e)+")"+s,o[a]||(c=d(a,m),o[a]=c),o[a]):e}function v(e,o,l){var r,i="";return mn&t(o)?i=o:o&&(i=Fn),r=n(e.sort(Ln),y).join("|"),[d("^("+r+")"+i,l?"i":""),1]}function w(e,n,o,l){var r=t(n);if(cn===r)return n;if(l[e])return l[e];o=o||0;var i,s=0;return n&&n.isCharList&&(s=1,f(n,"isCharList")),i=an===r?new z(gt,e,n,an,o):gn===r?new z(gt,e,n,gn,o):_n&r?new z(gt,e,n,bn,o):mn&r?new z(gt,e,n,s?kn:mn,o):n,l[e]=i}function _(e,n,o,l,r,i,u){if(u[e])return u[e];var c,p,f,h,m,g,k,y=0,d=0,$=1,b=mn&t(l)?!0:!!l;if(c=s(n),f=c.length,1===f)k=w(e,x(c[0],o,i,l),0,u);else if(f>1){for(h=(f>>>1)+1,p=0;h>=p;p++)m=t(c[p]),g=t(c[f-1-p]),(gn!==m||gn!==g)&&($=0),yn&m||yn&g?y=1:(bn&m||bn&g||a(c[p],o)||a(c[f-1-p],o))&&(d=1);if($&&!b)c=c.slice().join(""),c.isCharList=1,k=w(e,c,0,u);else if(!b||y||d)if(y||d){for(p=0;f>p;p++)c[p]=yn&t(c[p])?_(e+"_"+p,c[p],o,l,r,i,u):w(e+"_"+p,x(c[p],o,i),p,u);k=f>1?new z(kt,e,c):c[0]}else{for(c=c.sort(Ln),p=0;f>p;p++)c[p]=w(e+"_"+p,x(c[p],o,i),p,u);k=f>1?new z(kt,e,c):c[0]}else k=w(e,v(c,l,r),0,u)}return u[e]=k}function O(e,n,o,r,i){if(i[e])return i[e];var s=u(n),c=[],p=[];return l(function(n){var l,u;l=w(e+"_0_"+n,x(s[n][0],o,r),n,i),u=s[n].length>1?bn!==l.ptype||mn!==t(s[n][1])||a(s[n][1],o)?w(e+"_1_"+n,x(s[n][1],o,r),n,i):s[n][1]:l,c.push(l),p.push(u)},0,s.length-1),i[e]=new z(yt,e,[c,p])}function S(e,t){var n=u(e.tokens.slice());l(function(e){var o=n[e][0],l=n[e].length>1?n[e][1]:n[e][0],r=n[e].length>2?n[e][2]:"";null===l?(t.line=t.line||[],t.line.push(o)):(t.block=t.block||[],t.block.push([o,l,r]))},0,n.length-1)}function E(e,t,o,l){var r=e.meta||o,i=!(!e.caseInsesitive&&!e.ci),s=n(t,function(e){return{word:e,meta:r,ci:i}});return l.autocomplete=(l.autocomplete||[]).concat(s),s}function q(e){e.Lex||(e.Lex={}),e.Syntax||(e.Syntax={});var n,o,l,r,s,u,a,c,p,h,m,g=e.Lex,k=e.Syntax,y=[g,k],d=y.length;for(m=0;d>m;){h=y[m++];for(l in h)h[Wt](l)&&(n=l.split(":"),o=n[1]&&qn(n[1]).length?qn(n[1]):null,n=qn(n[0]),n.length||(n=l,o=null),n!==l&&(h[n]=h[l],f(h,l),o&&(o=o[on](),r=h[n],s=t(r),dn===s?h[n].type||(h[n].type=o):(h[n]={type:o},"error"===o?(h[n].type="action",h[n].error=r):"nop"===o?(h[n].type="action",h[n].nop=!0):"group"===o?(h[n].type="sequence",h[n].tokens=r):"action"===o&&mn===s?h[n][r]=!0:h[n].tokens=r))),g===h&&(On&t(h[n])&&(h[n]={type:"simple",tokens:h[n]}),r=h[n],r.type&&(c=r.type=r.type[on](),"line-block"===c?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===c?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===c&&(r.type="block",r.multiline=!0,r.escape="\\"))))}h=g;for(n in h)if(h[Wt](n))for(r=h[n];r.extend;)u=r.extend,f(r,"extend"),a=g[u],a&&(On&t(a)&&(a=g[u]={type:"simple",tokens:a}),r=i(a,r));h=g;for(n in h)h[Wt](n)&&(r=h[n],r.type?(c=r.type=r.type[on](),"line-block"===c?(r.type="block",r.multiline=!1,r.escape=!1):"escaped-line-block"===c?(r.type="block",r.multiline=!1,r.escape="\\"):"escaped-block"===c&&(r.type="block",r.multiline=!0,r.escape="\\")):r["escaped-line-block"]?(r.type="block",r.multiline=!1,r.escape||(r.escape="\\"),r.tokens=r["escaped-line-block"],f(r,"escaped-line-block")):r["escaped-block"]?(r.type="block",r.multiline=!0,r.escape||(r.escape="\\"),r.tokens=r["escaped-block"],f(r,"escaped-block")):r["line-block"]?(r.type="block",r.multiline=!1,r.escape=!1,r.tokens=r["line-block"],f(r,"line-block")):r.comment?(r.type="comment",r.escape=!1,r.tokens=r.comment,f(r,"comment")):r.block?(r.type="block",r.tokens=r.block,f(r,"block")):r.simple?(r.type="simple",r.tokens=r.simple,f(r,"simple")):r.nop?(r.type="action",r.action=["nop",r.nop,!1],r.nop=!0):r.error?(r.type="action",r.action=["error",r.error,!!r["in-context"]],f(r,"error")):r[Wt]("context")?(r.type="action",r.action=[r.context?"context-start":"context-end",r.context,!!r["in-context"]],f(r,"context")):r.indent?(r.type="action",r.action=["indent",r.indent,!!r["in-context"]],f(r,"indent")):r.outdent?(r.type="action",r.action=["outdent",r.outdent,!!r["in-context"]],f(r,"outdent")):r.unique?(r.type="action",r.action=["unique",mn&t(r.unique)?["_DEFAULT_",r.unique]:r.unique,!!r["in-context"]],f(r,"unique")):r.push?(r.type="action",r.action=["push",r.push,!!r["in-context"]],f(r,"push")):r[Wt]("pop")?(r.type="action",r.action=["pop",r.pop,!!r["in-context"]],f(r,"pop")):r.type="simple","action"===r.type?r.ci=!(!r.caseInsesitive&&!r.ci):"block"===r.type||"comment"===r.type?(r.multiline=r[Wt]("multiline")?!!r.multiline:!0,mn&t(r.escape)||(r.escape=!1)):"simple"===r.type&&(r.meta=r.autocomplete&&mn&t(r.meta)?r.meta:null,r.ci=!(!r.caseInsesitive&&!r.ci)));h=k;for(n in h)h[Wt](n)&&(r=h[n],dn!==t(r)||r.type?r.type&&(c=r.type=r.type[on](),"group"===c&&r.match?(s=t(r.match),mn&s?(p=r.match[on](),"alternation"===p||"either"===p?(r.type="alternation",f(r,"match")):"sequence"===p||"all"===p?(r.type="sequence",f(r,"match")):"zeroorone"===p?(r.type="zeroOrOne",f(r,"match")):"zeroormore"===p?(r.type="zeroOrMore",f(r,"match")):"oneormore"===p?(r.type="oneOrMore",f(r,"match")):(r.type="sequence",f(r,"match"))):yn&s&&(r.type="repeat",r.repeat=r.match,f(r,"match"))):"either"===c?r.type="alternation":"all"===c?r.type="sequence":"lookahead"===c&&(r.type="positiveLookahead")):r.ngram||r["n-gram"]?(r.type="ngram",r.tokens=r.ngram||r["n-gram"],r["n-gram"]?f(r,"n-gram"):f(r,"ngram")):r.sequence||r.all?(r.type="sequence",r.tokens=r.sequence||r.all,r.all?f(r,"all"):f(r,"sequence")):r.alternation||r.either?(r.type="alternation",r.tokens=r.alternation||r.either,r.either?f(r,"either"):f(r,"alternation")):r.zeroOrOne?(r.type="zeroOrOne",r.tokens=r.zeroOrOne,f(r,"zeroOrOne")):r.zeroOrMore?(r.type="zeroOrMore",r.tokens=r.zeroOrMore,f(r,"zeroOrMore")):r.oneOrMore?(r.type="oneOrMore",r.tokens=r.oneOrMore,f(r,"oneOrMore")):r.positiveLookahead||r.lookahead?(r.type="positiveLookahead",r.tokens=r.positiveLookahead||r.lookahead,r.lookahead?f(r,"lookahead"):f(r,"positiveLookahead")):r.negativeLookahead&&(r.type="negativeLookahead",r.tokens=r.negativeLookahead,f(r,"negativeLookahead")));return e}function L(e,n,o){if(o=o||{},n=n||[],!e||!e.length)return n;var l,r,i,s,u,a,c;for(l=0,r=e.length;r>l;l++)if(u=e[l])if(Ot===u.type)if(u.autocompletions)for(i=0,s=u.autocompletions.length;s>i;i++)c=u.autocompletions[i],o[Wt]("w_"+c.word)||(n.push(c),o["w_"+c.word]=1);else mn===u.token.ptype&&mn&t(u.token.pattern)&&u.token.pattern.length>1&&(o[Wt]("w_"+u.token.pattern)||(n.push({word:""+u.token.pattern,meta:u.name,ci:!!u.ci}),o["w_"+u.token.pattern]=1));else if(qt===u.type)L(u.token,n,o);else if(Pt&u.type){i=0,s=u.token.length;do L([a=u.token[i++]],n,o);while(s>i&&(Rt&a.type&&1>a.min||dt===a.type))}else Rt&u.type&&L([u.token[0]],n,o);return n}function R(e,n,o,l){for(var r;mn&t(r=n[e]||o[e]);)e=r;return l?e:n[e]||o[e]||e}function j(e,t){return e.length>1?l(t?function(t,n){var o=n[n.length-1],l=e[t];o===l||n.push(l)}:function(t,n){var o=n[n.length-1],l=e[t];zn.test(l)&&zn.test(o)&&o===l||n.push(l)},1,e.length-1,[e[0]]):e}function I(e,o,l){var i,s,u,a,c,p,f,h,m,g,k,b,x,v,w,_=!1;if(w=e.modifier?e.modifier:null,h=new String(qn(e)),h.pos=0,1===h.length)b=""+e,o[b]||l[b]||(o[b]={type:"simple",tokens:e}),e=b;else{for(i=[],s=[],u="",x=[];h.pos<h.length;)if(m=h[ln](h.pos++),Nn.test(m))if(u.length&&(_?(s.length&&(k=s[s.length-1],b=k+"."+u,p=o[b]||l[b],p||(f=R(k,o,l),l[b]=mn&t(f)?new String(f):r(f),l[b].modifier=u),s[s.length-1]=b),_=!1):"0"===u?(o[Ut]||(o[Ut]={type:"simple",tokens:0}),s.push(Ut)):"^^"===u?(o[Ct]||(o[Ct]={type:"simple",tokens:$t}),s.push(Ct)):"^^1"===u?(o[Gt]||(o[Gt]={type:"simple",tokens:bt}),s.push(Gt)):"^"===u?(o[Bt]||(o[Bt]={type:"simple",tokens:vt}),s.push(Bt)):"$"===u?(o[Ht]||(o[Ht]={type:"simple",tokens:xt}),s.push(Ht)):(o[u]||l[u]||(o[u]={type:"simple",tokens:u}),s.push(u)),u=""),"."===m)s.length&&h.pos<h.length&&!Nn.test(h[ln](h.pos))?_=!0:u+=m;else if('"'===m||"'"===m)a=$(h,m,"\\",!0),a.length?(b=""+a,o[b]||(o[b]={type:"simple",tokens:a}),s.push(b)):(o[Yt]||(o[Yt]={type:"simple",tokens:""}),s.push(Yt));else if("["===m)a=$(h,"]","\\",!0),b="["+a+"]",o[b]||(o[b]={type:"simple",tokens:d("^(["+("^"===a[ln](0)?"^"+y(a.slice(1)):y(a))+"])")}),s.push(b);else{if("]"===m){u+=m;continue}if("/"===m)a=$(h,m,"\\",!1),g="",a.length&&(h.pos<h.length&&"i"===h[ln](h.pos)&&(h.pos++,g="i"),b="/"+a+"/"+g,o[b]||(o[b]={type:"simple",tokens:d("^("+a+")",g)}),s.push(b));else if("*"===m||"+"===m||"?"===m)s.length?(k=s[s.length-1],b=""+k+m,l[b]||(l[b]={type:"*"===m?"zeroOrMore":"+"===m?"oneOrMore":"zeroOrOne",tokens:[k]}),s[s.length-1]=b):u+=m;else if("{"===m)s.length?(c=$(h,"}",!1),c=n(c.split(","),qn),c[0]=c[0].length?parseInt(c[0],10)||0:0,0>c[0]&&(c[0]=0),2>c.length?c.push(c[0]):c[1]=c[1].length?parseInt(c[1],10)||rn:rn,0>c[1]&&(c[1]=0),k=s[s.length-1],b=""+k+["{",c[0],",",isFinite(c[1])?c[1]:"","}"].join(""),l[b]||(l[b]={type:"repeat",repeat:[c[0],c[1]],tokens:[k]}),s[s.length-1]=b):u+=m;else{if("}"===m){u+=m;continue}"&"===m||"!"===m?s.length?(k=s[s.length-1],b=""+k+m,l[b]||(l[b]={type:"!"===m?"negativeLookahead":"positiveLookahead",tokens:[k]}),s[s.length-1]=b):u+=m:"|"===m?(_=!1,s=j(s),s.length>1?(b=""+s.join(" "),l[b]||(l[b]={type:"sequence",tokens:s}),i.push(b)):s.length?i.push(s[0]):u+=m,s=[]):"("===m?(x.push([s,i,u]),s=[],i=[],u=""):")"===m&&(s=j(s),s.length>1?(b=""+s.join(" "),l[b]||(l[b]={type:"sequence",tokens:s}),i.push(b)):s.length&&i.push(s[0]),s=[],i=j(i,1),i.length>1?(b=""+i.join(" | "),l[b]||(l[b]={type:"alternation",tokens:i})):i.length&&(b=i[0]),i=[],v=x.pop(),s=v[0],i=v[1],u=v[2],k=b,b="("+k+")",l[b]||(l[b]=r(R(k,o,l))),s.push(b))}}else u+=m;u.length&&(_?(s.length&&(k=s[s.length-1],b=k+"."+u,p=o[b]||l[b],p||(f=R(k,o,l),l[b]=mn&t(f)?new String(f):r(f),l[b].modifier=u),s[s.length-1]=b),_=!1):"0"===u?(o[Ut]||(o[Ut]={type:"simple",tokens:0}),s.push(Ut)):"^^"===u?(o[Ct]||(o[Ct]={type:"simple",tokens:$t}),s.push(Ct)):"^^1"===u?(o[Gt]||(o[Gt]={type:"simple",tokens:bt}),s.push(Gt)):"^"===u?(o[Bt]||(o[Bt]={type:"simple",tokens:vt}),s.push(Bt)):"$"===u?(o[Ht]||(o[Ht]={type:"simple",tokens:xt}),s.push(Ht)):(o[u]||l[u]||(o[u]={type:"simple",tokens:u}),s.push(u))),u="",s=j(s),s.length>1?(b=""+s.join(" "),l[b]||(l[b]={type:"sequence",tokens:s}),i.push(b)):s.length&&i.push(s[0]),s=[],i=j(i,1),i.length>1?(b=""+i.join(" | "),l[b]||(l[b]={type:"alternation",tokens:i}),e=b):i.length&&(e=i[0]),i=[]}return w&&(o[e]||l[e])&&((o[e]||l[e]).modifier=w),e}function D(e,r,i,a,c,p,f,h,m,g,k){var y,d,$,b,x,v,w,q=null,L=null,j=null;if($t===e||bt===e||vt===e||xt===e)return new P(e,$t===e?Ct:bt===e?$T_FBNL$:vt===e?Bt:Ht,e,L);if(!1===e||0===e)return new P(wt,Ut,0,L);if(""===e)return new P(_t,Yt,"",L);if(null===e)return new P(Ot,Jt,an,L,j);if(yn&t(e)&&($=e,e="NGRAM_"+$.join("_"),a[e]||(a[e]={type:"ngram",tokens:$})),e=""+e,h[e])return h[e];if(x=R(e,i,a),mn&t(x)&&(x=I(x,i,a),x=i[x]||a[x]||null),!x)return null;if(y=x.type?At[x.type[on]().replace(jn,"")]||Ot:Ot,L=x.msg||null,j=x.modifier||null,d=x.tokens,Ot&y){if($t===d||bt===d||vt===d||xt===d||!1===d||0===d)return q=new P(d||wt,e,d||0,L),h[e]=q,q;if(""===d)return q=new P(_t,e,"",L),h[e]=q,q;if(null===d)return q=new P(Ot,e,an,L,j),h[e]=q,q;if(!d)return null}if(dt&y)x[Wt]("action")?"nop"===x.action[0]?x.action[0]=it:"error"===x.action[0]?x.action[0]=st:"context-start"===x.action[0]?x.action[0]=at:"context-end"===x.action[0]?x.action[0]=ct:"push"===x.action[0]?x.action[0]=pt:"pop"===x.action[0]?x.action[0]=ft:"unique"===x.action[0]?x.action[0]=ut:"indent"===x.action[0]?x.action[0]=ht:"outdent"===x.action[0]&&(x.action[0]=mt):x[Wt]("nop")?x.action=[it,x.nop,!!x["in-context"]]:x[Wt]("error")?x.action=[st,x.error,!!x["in-context"]]:x[Wt]("context")?x.action=[x.context?at:ct,x.context,!!x["in-context"]]:x[Wt]("context-start")?x.action=[at,x["context-start"],!!x["in-context"]]:x[Wt]("context-end")?x.action=[ct,x["context-end"],!!x["in-context"]]:x[Wt]("push")?x.action=[pt,x.push,!!x["in-context"]]:x[Wt]("pop")?x.action=[ft,x.pop,!!x["in-context"]]:x[Wt]("unique")?x.action=[ut,mn&t(x.unique)?["_DEFAULT_",x.unique]:x.unique,!!x["in-context"]]:x[Wt]("indent")?x.action=[ht,x.indent,!!x["in-context"]]:x[Wt]("outdent")&&(x.action=[mt,x.outdent,!!x["in-context"]]),x.nop&&(x.action[0]=it),q=new P(dt,e,x.action.slice(),L,j),q.ci=!!x.caseInsensitive||x.ci,h[e]=q;else if(d=s(d),Ot&y){if(w=x.autocomplete?E(x,wn&t(x.autocomplete)?s(x.autocomplete):d,e,k):null,v="undefined"!=typeof x.combine?x.combine:yn&t(x.tokens)?!0:!1,q=new P(Ot,e,_(e,d.slice(),r,v,!(!x.caseInsensitive&&!x.ci),p,f),L,j,null,w),h[e]=q,null!=x.except){var N,F,z=s(x.except),M=z.length,T=[];for(N=0;M>N;N++)z[N]&&(F=D(z[N],r,i,a,c,p,f,h,m,g,k),F&&T.push(F));T.length&&(q.except=T)}}else St&y?(Et===y&&S(x,g),q=new P(y,e,O(e,d.slice(),r,p,f),L),q.mline=x[Wt]("multiline")?!!x.multiline:!0,q.esc=x[Wt]("escape")?x.escape:!1,q.inter=!!c[e+".inside"],Et===y&&x.interleave&&m.push(A(q)),j&&(q.modifier=j),h[e]=q):Tt&y&&(Mt===y?(b=u(d),q=n(b,function(t,n){return new P(Mt,e+"_NGRAM_"+n,null,L,j)}),h[e]=q,l(function(e){q[e].token=s(o(b[e],function(e,t){return e.concat(D(t,r,i,a,c,p,f,h,m,g,k))},[]))},0,b.length-1)):(Ft===y||zt===y?q=new P(y,e,null,L,j):Rt&y&&yn&t(x.repeat)?(q=new P(Rt,e,null,L,j),q.min=x.repeat[0],q.max=x.repeat[1]):jt===y?(q=new P(jt,e,null,L,j),q.min=0,q.max=1):It===y?(q=new P(It,e,null,L,j),q.min=0,q.max=rn):Dt===y?(q=new P(Dt,e,null,L,j),q.min=1,q.max=rn):q=qt===y?new P(qt,e,null,L,j):new P(Lt,e,null,L,j),h[e]=q,q.token=s(o(d,function(e,t){return e.concat(D(t,r,i,a,c,p,f,h,m,g,k))},[]))));return h[e]}function N(e){var n={};return e.Lex=e.Lex||{},e.Syntax=e.Syntax||{},e=q(e),e.Parser&&e.Parser.length&&l(function o(r,i){var s,u,a,c=i[r];n[c]||(yn&t(c)&&(s=c,c="NGRAM_"+s.join("_"),e.Syntax[c]||(e.Syntax[c]={type:"ngram",tokens:s})),u=R(c,e.Lex,e.Syntax),mn&t(u)&&(u=I(u,e.Lex,e.Syntax),u=e.Lex[u]||e.Syntax[u]||null),u&&(n[c]=u,a=u.type?At[u.type[on]().replace(jn,"")]||Ot:Ot,Tt&a&&l(o,0,u.tokens.length-1,u.tokens)))},0,e.Parser.length-1,e.Parser),e}function F(e){var n,l,i,s,u,a,c,p,f,h,m,g,k;return e.__parsed?e:(n=e.RegExpID||null,i=e.Extra?r(e.Extra):{},s=e.Style?r(e.Style):{},u=null,a=e.Lex?r(e.Lex):{},c=e.Syntax?r(e.Syntax):{},p={},f={},h={},g={},k={},m=[],l=e.Parser?r(e.Parser):[],e=q({Style:s,Fold:u,Lex:a,Syntax:c,$parser:null,$interleaved:null,$comments:null,$autocomplete:null,$extra:i,__parsed:0}),e.$parser=o(l,function(e,o){var l=D(o,n,a,c,s,p,f,h,m,g,k)||null;return l&&(yn&t(l)?e=e.concat(l):e.push(l)),e},[]),e.$interleaved=m&&m.length?m:null,e.$comments=g,e.$autocomplete=k&&k.autocomplete&&k.autocomplete.length?k.autocomplete:null,e.__parsed=1,e)}function z(e,n,o,l,r){var i,s,u=this;i=u.type=e,u.name=n,u.pattern=o,s=u.ptype=l||mn,u.key=r||0,kt===i?u.key=!1!==r:yt===i?u.pattern[0]=new z(kt,n+"_Start",o[0],null,!1):an===s?u.pattern=null:bn===s&&(u.pattern=bn&t(o)?[o,0]:[o[0],o[1]||0])}function M(e,n,o,l){var r,i,s,u,a,c,p,f,h,m,g,k=e,y=k.type,d=k.pattern,$=k.key;if(yt===y){if(r=k.name,s=d[0],u=d[1],c=M(s,n,o,l))return a=u[c[0]],f=t(a),h=s.pattern[c[0]].ptype,bn===h&&vn&f&&(p=cn&f?c[1][a+1]:b(a,c[1]),a=new z(gt,r+"_End",p,p.length>1?mn:gn)),a}else if(kt===y){for(m=0,g=d.length;g>m;m++)if(p=M(d[m],n,o,l))return $?[m,p[1]]:p}else{if(i=k.ptype,an===i)return!1!==o&&n.end(),[$,""];if(bn===i){if(p=n.slice(n.pos).match(d[0]),p&&0===p.index)return!1!==o&&n.mov(p[d[1]||0].length),[$,d[1]>0?p[d[1]]:p]}else if(kn===i){if(!0===l){p=-1;var x,v;for(g=d.length-1;g>=0;g--)x=n.indexOf(d[ln](g),n.pos),x>-1&&(-1===p||p>x)&&(p=x,v=d[ln](g));if(p>-1)return!1!==o&&(n.pos=p+1),[$,v]}else if(p=n[ln](n.pos)||null,p&&-1<d.indexOf(p))return!1!==o&&n.mov(1),[$,p]}else if(gn===i){if(!0===l){if(p=n.indexOf(d,n.pos),p>-1)return!1!==o&&(n.pos=p+1),[$,d]}else if(p=n[ln](n.pos)||null,d===p)return!1!==o&&n.mov(1),[$,p]}else if(mn===i)if(g=d.length,!0===l){if(p=n.indexOf(d,n.pos),p>-1)return!1!==o&&(n.pos=p+g),[$,d]}else if(d===n.substr(n.pos,g))return!1!==o&&n.mov(g),[$,d]}return!1}function P(e,t,n,o,l,r,i){var s=this;s.type=e,s.name=t,s.token=n,s.modifier=l||null,s.except=r||null,s.autocompletions=i||null,s.pos=null,s.msg=o||null,s.$msg=null,s.status=0,s.ci=!1,s.mline=!0,s.esc=!1,s.inter=!1,s.found=0,s.min=0,s.max=1,s.$id=null}function T(){var e=this;e.T=0,e.id=null,e.type=null,e.match=null,e.str="",e.pos=null,e.block=null}function A(e,t,n,o){var l=new P(e.type,e.name,e.token,e.msg,e.modifier,e.except,e.autocompletions);return l.ci=e.ci,l.mline=e.mline,l.esc=e.esc,l.inter=e.inter,l.found=e.found,l.min=e.min,l.max=e.max,t&&(l.status|=tt),n&&(l.modifier=n),o&&(l.$id=o),l}function C(e){var t=e.name;return e.$msg?e.$msg:e.status&tt?'Token "'+t+'" Expected':'Syntax Error: "'+t+'"'}function G(e,t,n,o,l,r,i){e.err[t+"_"+n+"_"+o+"_"+l+"_"+(r?r.name:"ERROR")]=[t,n,o,l,i||C(r)]}function B(e,t,n,o){if(!e)return!1;var l=e.type,r=Tt&l?Y:St&l?U:dt&l?H:J;return r(e,t,n,o)}function H(e,n,o,l){var r,i,s,u,a,c,p,f,h,m,g,k,y,d,$,x,v=e,w=v.token||null,_=v.ci,O=v.name,S=!(o.status&Z);if(v.status=0,v.$msg=null,S||!w||!l||!l.pos)return!0;if(x=!!(St&l.T),it===w[0]||x&&!l.block)return!0;if(r=w[0],i=w[1],y=w[2],a=v.msg,c=o.queu,p=o.symb,f=o.ctx,x?($=l.block.match||l.block.str,h=l.block.pos[0][0],m=l.block.pos[0][1],g=l.block.pos[0][2],k=l.block.pos[0][3]):($=l.match||l.str,h=l.pos[0],m=l.pos[1],g=l.pos[2],k=l.pos[3]),st===r)return!a&&mn&t(i)&&(a=i),v.$msg=a?b(a,$,!0):'Error "'+O+'"',G(o,h,m,g,k,v,C(v)),v.status|=nt,!1;if(ct===r)f.length&&f.shift();else if(at===r)f.unshift({symb:{},queu:[]});else if(ft===r){if(y){if(!f.length)return!0;c=f[0].queu}if(i){if(i=b(i,$),_&&(i=i[on]()),!c.length||i!==c[0][0])return c.length?(v.$msg=a?b(a,[c[0][0],i],!0):'Tokens do not match "'+c[0][0]+'","'+i+'"',d=C(v),G(o,c[0][1],c[0][2],c[0][3],c[0][4],v,d),G(o,h,m,g,k,v,d),c.shift()):(v.$msg=a?b(a,["",i],!0):'Token does not match "'+i+'"',d=C(v),G(o,h,m,g,k,v,d)),v.status|=nt,!1;c.shift()}else c.shift()}else if(pt===r&&i){if(y){if(!f.length)return!0;c=f[0].queu}i=b(i,$),_&&(i=i[on]()),v.$msg=a?b(a,i,!0):'Token does not match "'+i+'"',c.unshift([i,h,m,g,k,C(v)])}else if(ut===r){if(y){if(!f.length)return!0;p=f[0].symb}if(s=i[1],u=i[0],s=b(s,$,!0),_&&(s=s[on]()),p[Wt](u)||(p[u]={}),p[u][Wt](s))return v.$msg=a?b(a,s,!0):'Duplicate "'+s+'"',d=C(v),G(o,p[u][s][0],p[u][s][1],p[u][s][2],p[u][s][3],v,d),G(o,h,m,g,k,v,d),v.status|=nt,!1;p[u][s]=[h,m,g,k]}return!0}function J(e,t,n,o,l){var r,i=e,s=i.token,u=i.modifier,a=i.type,c=i.name,p=i.except,f=n.line,h=t.pos,m=null,g=!1;if(i.status&=lt,i.$msg=l?null:i.msg||null,p)for(var k=0,y=p.length;y>k;k++)if(r=p[k],i!==r&&Ot===r.type&&J(r,t,n,o,1))return t.bck(h),!1;return $t===a?g=0===n.line:bt===a?g=n.bline+1===n.line:vt===a?g=t.sol():xt===a?(t.spc(),t.eol()?g=c:t.bck(h)):wt===a?(i.status=0,g=!0):_t===a?(i.status&tt&&t.spc()&&!t.eol()?(t.bck(h),i.status|=nt):g=!0,i.status&=ot):an===s?(t.end(),g=u||c):(m=M(s,t))&&(m=m[1],g=u||c),l?g:(!1!==g&&(o.T=a,o.id=c,o.type=g,o.str=t.sel(h,t.pos),o.match=m,o.pos=[f,h,f,t.pos]),!g&&i.status&&i.$msg&&(i.$msg=b(i.$msg,c,!0)),g)}function U(e,t,n,o){var l,r,i,s,u,a,p,f,h,m,g,k,y,d,$,x,v,w,_,O,S,E=e,q=E.name,L=E.type,R=E.modifier,j=E.token,I=E.mline,D=E.inter,N=D?q+".inside":q,F=E.esc,z=!!F,P="",T="",C="",G="",B=E.$id||q,H=n.stack;if(E.status&=lt,E.$msg=E.msg||null,_=n.line,O=t.pos,Et===L&&(E.status&=ot),$=E.status&tt,i=0,s=0,n.block&&n.block.name===q?(s=1,i=1,d=N,l=n.block.end,f=n.block.sp,m=n.block.ip,h=n.block.ep,P=n.block.s,T=n.block.i):!n.block&&(l=M(j,t))&&(s=1,d=q,x=t.pos,f=[_,O],m=[[_,x],[_,x]],h=[_,x],P=t.sel(O,x),T="",G="",n.block={name:q,end:l,sp:f,ip:m,ep:h,s:P,i:T,e:G}),s){if(w=H.length,r=an===l.type,D){if(r&&i&&t.sol())return E.status&=ot,n.block=null,!1;if(!i)return x=t.pos,o.T=L,o.id=q,o.type=R||d,o.str=t.sel(O,x),o.match=null,o.pos=[_,O,_,x],c(H,w,A(E,$,0,B)),R||d}if(x=t.pos,u=M(l,t),p=I,a=0,u)d=r?N:q,G=t.sel(x,t.pos);else if(v=t.pos,k=!1,z||kn!==l.ptype&&gn!==l.ptype&&mn!==l.ptype)for(;!t.eol();){if(x=t.pos,!k&&M(l,t)){D&&t.pos>x&&x>v?(d=N,t.bck(x),a=1):(d=q,u=1),G=t.sel(x,t.pos);break}y=t.nxt(1),C+=y,k=z&&!k&&F===y,x=t.pos}else(S=M(l,t,!0,!0))?(D&&t.pos>x+S[1].length?(d=N,t.mov(-S[1].length),a=1):(d=q,u=1),G=t.sel(x,t.pos)):(t.end(),d=N,a=1,C=t.sel(x,t.pos));return p=I||z&&k,T+=C,m[1]=[_,x],h=[_,t.pos],u||!p&&!a?n.block=null:(n.block.ip=m,n.block.ep=h,n.block.i=T,n.block.e=G,c(H,w,A(E,$,0,B))),o.T=L,o.id=q,o.type=R||d,o.str=t.sel(O,t.pos),o.match=null,o.pos=[_,O,h[0],h[1]],n.block||(g=P+T+G,o.block={str:g,match:[g,T,P,G],part:[g,P,T,G],pos:[[f[0],f[1],h[0],h[1]],[f[0],f[1],m[0][0],m[0][1]],[m[0][0],m[0][1],m[1][0],m[1][1]],[m[1][0],m[1][1],h[0],h[1]]]}),R||d}return E.status&&E.$msg&&(E.$msg=b(E.$msg,q,!0)),!1}function Y(e,t,n,o){var l,r,i,s,u,a,p,f,m,g,k,y,d,$,b,x=e,v=x.type,w=(x.name,x.token),_=w.length,O=x.modifier;if(x.status&=lt,x.$msg=x.msg||null,y=n.stack,f=t.pos,m=y.length,a=0,p=0,$=x.$id||h(),qt===v){for(x.status|=tt,d=[],g=0;_>g;g++){if(l=A(w[g],1,O,$),r=B(l,t,n,o),l.status&tt&&(a++,d.push(C(l))),!1!==r)return r;l.status&nt&&(p++,t.pos>f&&t.bck(f),y.length>m&&(y.length=m))}return a>0?x.status|=tt:x.status&=ot,_===p&&a>0?x.status|=nt:x.status&=lt,x.status&&!x.$msg&&d.length&&(x.$msg=d.join(" | ")),!1}if(Pt&v){b=!!(v&Lt),b?x.status|=tt:x.status&=ot,k=0;do l=A(w[k++],b,O,$),r=B(l,t,n,o);while(_>k&&(!0===r&&Nt&l.type||!1===r&&!(l.status&tt)));if(!1!==r){if(!0!==r||wt!==l.type)for(g=_-1;g>=k;g--)c(y,m+_-g-1,A(w[g],1,O,$));return r}return l.status&nt?(b?x.status|=nt:x.status&=lt,t.pos>f&&t.bck(f),y.length>m&&(y.length=m)):b&&l.status&tt&&(x.status|=nt),x.status&&!x.$msg&&(x.$msg=C(l)),!1}if(Nt&v)return l=A(w[0],1,O,$),r=B(l,t,n,o),t.pos>f&&t.bck(f),y.length>m&&(y.length=m),zt===v?!1===r:!1!==r;for(i=x.found,s=x.min,u=x.max,x.status=0,d=[],g=0;_>g;g++){if(l=A(w[g],1,O,$),r=B(l,t,n,o),!1!==r){if(++i,u>=i)return x.found=i,c(y,m,A(x,0,0,$)),x.found=0,r;break}l.status&tt&&(a++,d.push(C(l))),l.status&nt&&(t.pos>f&&t.bck(f),y.length>m&&(y.length=m))}return s>i&&(x.status|=tt),(i>u||s>i&&a>0)&&(x.status|=nt),x.status&&!x.$msg&&d.length&&(x.$msg=d.join(" | ")),!1}function K(e,t){var n=this;n.id=e?m("state"):"state",t instanceof K?(n.line=t.line,n.bline=t.bline,n.status=t.status,n.stack=t.stack.slice(),n.token=t.token,n.block=t.block,n.status&Z?(n.queu=t.queu,n.symb=t.symb,n.ctx=t.ctx,n.err=t.err):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=t.$eol$,n.$blank$=t.$blank$):(n.line=-1,n.bline=-1,n.status=t||0,n.stack=[],n.token=null,n.block=null,n.status&Z?(n.queu=[],n.symb={},n.ctx=[],n.err={}):(n.queu=null,n.symb=null,n.ctx=null,n.err=null),n.$eol$=!0,n.$blank$=!0),n.toString=function(){return n.id+"_"+n.line+"_"+n.bline+"_"+(n.block?n.block.name:"0")}}function V(e){e.id=null,e.line=null,e.bline=null,e.status=null,e.stack=null,e.token=null,e.block=null,e.queu=null,e.symb=null,e.ctx=null,e.err=null}function W(e,t,n){var o=new String(e);return o.start=t||0,o.pos=n||0,o.sol=function(){return 0===o.pos},o.eol=function(){return o.pos>=o.length},o.end=function(){return o.pos=o.length,o},o.mov=function(e){return o.pos=0>e?tn(0,o.pos+e):nn(o.length,o.pos+e),o},o.bck=function(e){return o.pos=tn(0,e),o},o.sft=function(){return o.start=o.pos,o},o.nxt=function(e,t){var n,l,r="";if(!0===e){for(t=t||W.$NONSPC$;o.pos<o.length&&t.test(n=o[ln](o.pos++));)r+=n;return r.length?r:null}for(e=e||1,l=0;l++<e&&o.pos<o.length;)r+=o[ln](o.pos++);return r},o.cur=function(e){var t=o.slice(o.start,o.pos);return e&&(o.start=o.pos),t},o.sel=function(e,t){return o.slice(e,t)},o.spc=function(e,t){var n;return(n=o.slice(o.pos).match(t||W.$SPC$))?(!1!==e&&o.mov(n[0].length),n[0]):void 0},o}function Q(e){var t=function n(){var e,t=null,o=null,l={lastIndex:0,exec:function(){var e=null;return o&&(e=[o.token],e.index=0,this.lastIndex=e[0].length),e}},r={lastIndex:0,exec:function(){var e=null;return o&&!o.ret&&(e=[o.token],e.index=0,this.lastIndex=e[0].length,o.ret=1),e}},i={_str:null,lastIndex:0,exec:function(l){var r=null,i=this;return l!==i._str?(i._str=l,i.lastIndex=i.lastIndex||0,t=n.$parser.parse(l,X|Z|et).tokens,o=t.shift(),o.ret=0,e.parent=e,null===o.type?e.keywords=null:(e.keywords={},e.keywords[o.token]=[o.type,1]),r=[o.token],r.index=i.lastIndex,i.lastIndex+=r[0].length):t&&t.length?(i.lastIndex=i.lastIndex||0,o=t.shift(),o.ret=0,e.parent=e,null===o.type?e.keywords=null:(e.keywords={},e.keywords[o.token]=[o.type,1]),r=[o.token],r.index=i.lastIndex,i.lastIndex+=r[0].length):(i._str=null,i.lastIndex=0,t=null,o=null,e.parent=null,e.keywords=null),r}};return e={compiled:!0,aliases:n.aliases||null,case_insensitive:!1,relevance:0,contains:[],parent:null,keywords:null,className:null,beginRe:l,endRe:l,lexemesRe:r,terminators:i}};return t.$id=m("highlightjs_grammar_mode"),t.$parser=new Tn.Parser(F(e)),t.dispose=function(){t.$parser&&t.$parser.dispose(),t.$parser=null},t.aliases=null,t}var X=1,Z=2,et=32,tt=4,nt=8,ot=~tt,lt=~nt,rt=tt|nt,it=0,st=4,ut=8,at=16,ct=17,pt=32,ft=33,ht=128,mt=129,gt=2,kt=4,yt=8,dt=4,$t=8,bt=9,xt=16,vt=32,wt=128,_t=256,Ot=512,St=1024,Et=1025,qt=2048,Lt=4096,Rt=8192,jt=8193,It=8194,Dt=8195,Nt=16384,Ft=Nt,zt=16385,Mt=32768,Pt=Lt|Mt,Tt=qt|Lt|Rt|Nt|Mt,At={action:dt,simple:Ot,block:St,comment:Et,alternation:qt,sequence:Lt,repeat:Rt,zeroorone:jt,zeroormore:It,oneormore:Dt,positivelookahead:Ft,negativelookahead:zt,ngram:Mt},Ct="$|SOF|$",Gt="$|NONBLANK|$",Bt="$|SOL|$",Ht="$|EOL|$",Jt="$|ENDLINE|$",Ut="$|EMPTY|$",Yt="$|NONSPACE|$",Kt=void 0,Vt="prototype",Wt="hasOwnProperty",Qt="propertyIsEnumerable",Xt=Object[Vt],Zt=Xt.toString,en=Object.create,tn=Math.max,nn=Math.min,on="toLowerCase",ln="charAt",rn=1/0,sn=4,un=8,an=16,cn=32,pn=33,fn=34,hn=64,mn=128,gn=129,kn=130,yn=256,dn=512,$n=1024,bn=2048,xn=4096,vn=mn|cn,wn=mn|yn,_n=bn|yn,On=mn|yn|bn,Sn={"[object Number]":cn,"[object String]":mn,"[object Array]":yn,"[object RegExp]":bn,"[object Date]":xn,"[object Function]":$n,"[object Object]":dn},En=/^\s+|\s+$/g,qn=String[Vt].trim?function(e){return e.trim()}:function(e){return e.replace(En,"")},Ln=function(e,t){return t.length-e.length},Rn=/\r\n|\r|\n/g,jn=/[\-_]/g,In=0,Dn=/([.*+?^${}()|[\]\/\\\-])/g,Nn=/^([.!&\[\]{}()*+?\/|'"]|\s)/,Fn="(\\s|\\W|$)",zn=/[*+]$/;W.$SPC$=/^[\s\u00a0]+/,W.$NONSPC$=/[^\s\u00a0]/,W.$NOTEMPTY$=/\S/,W.$SPACE$=/^\s*/;var Mn=k({constructor:function(e,t,n){var o=this;o.$grammar=e,o.$DEF=t||null,o.$ERR=n||null,o.DEF=o.$DEF,o.ERR=o.$ERR,o.$folders=[]},$grammar:null,$folders:null,$n$:"name",$t$:"type",$v$:"token",$DEF:null,$ERR:null,DEF:null,ERR:null,dispose:function(){var e=this;return e.$grammar=null,e.$folders=null,e.$n$=e.$t$=e.$v$=null,e.$DEF=e.$ERR=e.DEF=e.ERR=null,e},token:function(e,t){var n,o,l,r,i,s,u,a,c,f,h,m,g,k,y,d=this,$=d.$grammar,b=$.Style,x=d.DEF,v=d.ERR,w={},_=d.$n$,O=d.$t$,S=d.$v$,E=$.$interleaved,q=$.$parser,L=q.length,R=E?E.length:0;if(e.sol()&&(t.$eol$&&(t.$blank$&&(t.bline=t.line),t.$eol$=!1,t.line++),t.$blank$=t.bline+1===t.line),t.$actionerr$=!1,t.token=null,r=t.stack,i=t.line,s=e.pos,h=!1,g=!0,m=!1,k=!1,y=t.block?t.block.name:Kt,r.length&&xt===r[r.length-1].type&&e.sol()&&r.pop(),(!r.length||_t!==r[r.length-1].type&&y!==r[r.length-1].name)&&e.spc()&&(g=!1,k=!0),w[_]=null,w[O]=x,w[S]=null,g)for(l=new T,u=0;g&&(r.length||L>u)&&!e.eol();){if(c=e.pos,f=r.length,R&&!t.block){for(a=0;R>a;a++)if(n=E[a],h=B(n,e,t,l),!1!==h){g=!1;
break}if(!g)break}if(!r.length&&u>=L)break;if(n=r.length?r.pop():q[u++],h=B(n,e,t,l),!1===h){if(n.status&rt){t.token=n,p(r,n.$id),e.nxt(!0)||(e.spc(),k=!0),m=!0,g=!1;break}}else{if(r.length>1&&e.eol()&&St&r[r.length-1].type&&t.block&&t.block.name===r[r.length-1].name)for(a=r.length-2;a>=0&&dt===r[a].type;)o=r[a--],H(o,e,t,l),o.status&nt&&(t.$actionerr$=!0);else if(r.length&&dt===r[r.length-1].type)for(;r.length&&dt===r[r.length-1].type;)o=r.pop(),H(o,e,t,l),o.status&nt&&(t.$actionerr$=!0);if(!0!==h){g=!1;break}}}return g&&e.nxt(1),w[S]=e.cur(1),!1!==h?(h=b[h]||x,w[_]=n.name):m?(h=v,t.status&Z&&G(t,i,s,i,e.pos,n)):h=x,w[O]=h,t.$eol$=e.eol(),t.$blank$=t.$blank$&&(k||t.$eol$),w},autocompletion:function(e,t){var n,o,l,r=e.stack,i={},s=L([e.token],[],i);for(t=t||0,n=r.length-1;n>=0;n--)if(o=r[n],l=o.type,Rt&l){if(s=L([o],s,i),0<o.min&&t<s.length)break}else if((Ot===l||qt===l||Pt&l)&&(s=L([o],s,i),t<s.length))break;return s},tokenize:function(e,t){var n=this,o=[];if(e.eol())t.line++,t.$blank$&&t.bline++;else for(;!e.eol();)o.push(n.token(e,t));return o},parse:function(e,t){var n,o,r,i,s,u=this,a=(e||"").split(Rn),c=a.length,p=null;if(t=t||X,o=!!(t&Z),r=!!(t&X),n=new K(0,t),n.$full_parse$=!0,l(function(e){a[e]+="\n"},0,c-2),r?p=l(t&et?function(e,t){t._=t._.concat(u.tokenize(W(a[e]),n,e))}:function(e,t){t._.push(u.tokenize(W(a[e]),n,e))},0,c-1,{_:[]})._:l(function(e){var t=W(a[e]);if(t.eol())n.line++,n.$blank$&&n.bline++;else for(;!t.eol();)u.token(t,n)},0,c-1),o&&n.queu&&n.queu.length)for(;n.queu.length;)i=n.queu.shift(),G(n,i[1],i[2],i[3],i[4],null,i[5]);return s=r&&o?{tokens:p,errors:n.err}:r?p:n.err,V(n),s},iterator:function(){},validate:function(){},autocomplete:function(){},indent:function(){},fold:function(){}}),Pn=k(Mn,{constructor:function(e,t){var n=this;Mn.call(n,e,null,null),n.DEF=t||n.$DEF,n.ERR=n.$ERR},tokenize:function(e,t){var o,l=this,r=[],i=[],s=null,u=function(e){return e.type=l.$DEF,e};if(Kt===t.pos&&(t.pos=0),e.eol())t.line++,t.$blank$&&t.bline++;else for(;!e.eol();)o=l.token(e,t),o.pos=t.pos,t.pos+=o.token.length,t.$actionerr$?(i.length&&(r=r.concat(n(i,u))),o.type=l.$DEF,r.push(o),i.length=0,s=null):(s!==o.name&&(i.length&&(r=r.concat(i)),i.length=0,s=o.name),i.push(o));return i.length&&(r=r.concat(i)),i.length=0,s=null,r}}),Tn=e.HighlightJSGrammar={VERSION:"3.1.0",clone:r,extend:i,pre_process:N,parse:F,getMode:Q,Parser:Pn};return e.HighlightJSGrammar});